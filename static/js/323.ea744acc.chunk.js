"use strict";(self.webpackChunkour_awesome_project=self.webpackChunkour_awesome_project||[]).push([[323],{6323:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(7689),a=t(9010),o=t(6579),i="UserPage_user__Sl9Qm",c="UserPage_main__yImrw",l="UserPage_name__7FVXu",s="UserPage_email__scNe+",u=t(2791),p=t(9594),d=t(1618),m=t(4165),f=t(5861),v=t(9439),g="LogoInteractInfo_wrapper__XAh-y",h="LogoInteractInfo_file-input__H9Nku",j=t(184),x=function(e){var n=e.inputRef,t=e.onChangeInput;return(0,j.jsxs)("div",{className:g,children:[(0,j.jsx)("span",{"aria-label":"Insert Image",children:"Drop the image here or click to browse."}),(0,j.jsx)("input",{className:h,ref:n,type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg",onChange:t,"data-testid":"input-file"})]})},_=t(1413),b=t(4925),C="AvatarImage_wrapper__s4-YT",k="AvatarImage_image__zIcyq",w=["error","file","imgRef","avatarFromServer"],y=function(e){e.error;var n=e.file,t=e.imgRef,r=e.avatarFromServer,a=(0,b.Z)(e,w),i=(0,u.useState)(""),c=(0,v.Z)(i,2),l=c[0],s=c[1],p=(0,o.C)((function(e){return e.auth})).user;return(0,u.useEffect)((function(){r&&!n&&s("https://color-palette-b4uwktlqb-our-awesome-team.vercel.app/api/upload/files/".concat(null===p||void 0===p?void 0:p.email,".jpg")),n&&s(URL.createObjectURL(n))}),[n,t]),(0,j.jsx)("div",(0,_.Z)((0,_.Z)({className:C},a),{},{children:(0,j.jsx)("div",{className:k,style:{backgroundImage:"".concat(l?"url(".concat(l,")"):"")},ref:t,"aria-label":"Image"})}))},I="SelectedImageComponent_content-wrapper__TsnDD",S="SelectedImageComponent_crop-area__0hiM9",F="SelectedImageComponent_crop-title__-aSdu",Z="SelectedImageComponent_resize__U2q05",N="SelectedImageComponent_save-button-wrapper__kiPaS",D="SelectedImageComponent_x-icon__RJuWr",R="Slider_slider__hh3+r",P=function(e){var n=e.value,t=e.onChange;return(0,j.jsx)("input",{className:R,type:"range",min:"1",max:10,onChange:t,style:{backgroundSize:"".concat(100*n/10,"% 100%")},value:n})},E=t(2388),z=function(e){var n=e.zoomLevel,t=e.isErrored,r=e.imageFile,a=e.setIsSaved,i=e.handleSliderChange,c=e.reset,l=(0,u.useRef)(null);(0,u.useEffect)((function(){!function(e){var n;null===(n=l.current)||void 0===n||n.style.setProperty("transform","scale(".concat(e>1?1+e/10:1,")"))}(n)}),[n]);var s=(0,o.C)((function(e){return e.auth})).user,p=function(){var e=(0,f.Z)((0,m.Z)().mark((function e(){var n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",r),e.next=4,E.Z.post("https://color-palette-b4uwktlqb-our-awesome-team.vercel.app/api/upload",n,{headers:{Authorization:"Bearer ".concat(null===s||void 0===s?void 0:s.token),"Content-Type":"multipart/form-data"}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)(y,{error:t,file:r,imgRef:l}),(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)("div",{className:F,children:"Crop"}),(0,j.jsx)("div",{className:Z,children:(0,j.jsx)(P,{value:n,onChange:i})}),(0,j.jsx)("div",{className:N,children:(0,j.jsx)("button",{onClick:function(){p(),a(!0)},children:"Save"})})]}),(0,j.jsx)("div",{className:D,"aria-label":"XIcon",onClick:c,children:"\xd7"})]})},L="SavedImage_content-wrapper__EqbfI",O=function(e){var n=e.imageFile,t=e.zoomLevel,r=e.inputRef,a=e.onChangeInput,o=e.avatarFromServer,i=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.style.setProperty("transform","scale(".concat(1+t/10,")"))}),[]),(0,j.jsxs)("div",{className:L,children:[(0,j.jsx)(y,{avatarFromServer:o,file:n,imgRef:i}),(0,j.jsx)(x,{inputRef:r,onChangeInput:a})]})},U="AvatarUpload_delete-btn__T8MFw",A="AvatarUpload_wrapper__U+Hv0",q="AvatarUpload_nullAvatar__JkhiY",T=function(){var e=(0,u.useState)(null),n=(0,v.Z)(e,2),t=n[0],r=n[1],a=(0,u.useState)(!1),i=(0,v.Z)(a,2),c=i[0],l=i[1],s=(0,u.useState)(!1),p=(0,v.Z)(s,2),d=p[0],g=p[1],h=(0,u.useState)(1),_=(0,v.Z)(h,2),b=_[0],C=_[1],k=(0,u.useRef)(null),w=function(e){return!!e&&["image/jpeg","image/jpg","image/png"].includes(e.type)},y=function(e){e&&w(e)&&(r(e),g(!1),C(1)),l(!w(e))},I=function(e){var n=e.target.files[0];y(n)},S=function(e){C(Number(e.target.value))},F=function(){r(null),C(1),l(!1),g(!1)},Z=(0,u.useState)(null),N=(0,v.Z)(Z,2),D=N[0],R=N[1],P=(0,o.C)((function(e){return e.auth})).user;(0,u.useEffect)((function(){var e=function(){var e=(0,f.Z)((0,m.Z)().mark((function e(){var n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.Z.get("https://color-palette-b4uwktlqb-our-awesome-team.vercel.app/api/upload/files/".concat(null===P||void 0===P?void 0:P.email,".jpg"),{headers:{Authorization:"Bearer ".concat(null===P||void 0===P?void 0:P.token)}});case 3:n=e.sent,R(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var L=function(){var e=(0,f.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.Z.delete("https://color-palette-b4uwktlqb-our-awesome-team.vercel.app/api/upload/files/".concat(null===P||void 0===P?void 0:P.email,".jpg"),{headers:{Authorization:"Bearer ".concat(null===P||void 0===P?void 0:P.token)}});case 3:F(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:A,onClick:function(){var e;null===(e=k.current)||void 0===e||e.click()},onDrop:function(e){var n;e.preventDefault();var t=null===(n=e.dataTransfer)||void 0===n?void 0:n.files[0];y(t)},onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()},children:[!t&&!D&&(0,j.jsx)("div",{className:q}),D&&!t?(0,j.jsx)(O,{avatarFromServer:!!D,imageFile:t,zoomLevel:b,inputRef:k,onChangeInput:I}):c||t?c||!t||d?(0,j.jsx)(O,{imageFile:t,zoomLevel:b,inputRef:k,onChangeInput:I}):(0,j.jsx)(z,{handleSliderChange:S,imageFile:t,isErrored:c,reset:F,zoomLevel:b,setIsSaved:g}):(0,j.jsx)(x,{inputRef:k,onChangeInput:I})]}),(!!D||d)&&(0,j.jsx)("div",{onClick:L,className:U,children:"Delete Image"})]})},B=function(){var e=(0,o.T)(),n=(0,r.s0)(),t=(0,o.C)((function(e){return e.auth})),m=t.user,f=t.loading;t.error;(0,u.useEffect)((function(){m||n("/signin")}),[m]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Z,{title:"Profile",description:"Profile page you can add avatar or logout of your profile!"}),(0,j.jsx)("section",{className:i,children:f?(0,j.jsx)(p.Z,{}):(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)(T,{}),(0,j.jsx)("div",{className:l,children:null===m||void 0===m?void 0:m.name}),(0,j.jsx)("div",{className:s,children:null===m||void 0===m?void 0:m.email}),(0,j.jsx)("div",{onClick:function(){e((0,a.kS)()),e((0,a.mc)()),n("/")},children:(0,j.jsx)("button",{children:"Log Out"})})]})})]})}},1618:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(6907),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return n&&(t=t.slice(0,n)+"..."),t},o="Color Palette",i=function(e){return"".concat(e," | ").concat(o)},c=t(7689);t(2791);var l=t.p+"static/media/favicon.751ec7894960d610641b7ef3cc8eac0c.svg",s=t(184),u=function(e){var n=e.title,t=e.description,u=e.image,p=(0,c.TH)().pathname,d="https:/localhost:3000/".concat(p);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r.ql,{children:[(0,s.jsx)("title",{itemProp:"headline",children:i(n)}),t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("meta",{itemProp:"description",name:"description",content:a(t,152)}),(0,s.jsx)("link",{rel:"canonical",href:d}),(0,s.jsx)("meta",{property:"og:locale",content:"en"}),(0,s.jsx)("meta",{property:"og:title",content:i(n)}),(0,s.jsx)("meta",{property:"og:url",content:d}),(0,s.jsx)("meta",{property:"og:image",content:u||l}),(0,s.jsx)("meta",{property:"og:site_name",content:o}),(0,s.jsx)("meta",{property:"og:description",content:a(t,197)})]}):(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]})})}},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=323.ea744acc.chunk.js.map